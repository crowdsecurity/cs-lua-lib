name: Tests

on:
  pull_request:

jobs:
  build:
    name: Lib tests
    runs-on: ubuntu-latest
    steps:
    - name: Check out code
      uses: actions/checkout@v2
    - name: Get lua
      uses: leafo/gh-actions-lua@v6
      with:
        luaVersion: 5.2
      id: lua
    - name: install dependency
      run: |
        ./install.sh
    - name: run tests
      run: |
        .lua/bin/lua test.lua
